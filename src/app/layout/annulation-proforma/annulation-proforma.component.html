<p-blockUI [blocked]="blockedDocument"></p-blockUI>
<div class="mb-20" fxFlex fxLayout="row" fxLayout.lt-md="column">
  <div fxFlex>
    <mat-card style="height: 130px;">
      <mat-card-content style="margin-top: -30px; margin-left: -8px;">
        <h4>Demande Proforma</h4>
        <div class="row">
          <div class="col-md-1">
            <label>Numero :</label>
          </div>
          <div class="col-md-2">
            <input
              id="num"
              type="search"
              maxlength="5"
              size="6"
              [disabled]="rechercheDisable||blockedDocument"
              pInputText
              pKeyFilter="int"
              [(ngModel)]="numero"
              (keyup.enter)="valid_prof_num($event)"
              (keypress)="ov.hide()"
              (keydown.backspace)="onBackspaceKeydown()"
            />
          </div>
          <div class="col-md-5">
            <div class="row">
              <div class="col-md-1"><label>Date:&nbsp;</label></div>
              <div class="col-md-11">
                <input
                  type="text"
                  size="11"
                  readonly="true"
                  pInputText
                  [(ngModel)]="date"
                />
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="row" style="margin-top: 1px;">
              <div class="col-md-2"><label>M. &nbsp;</label></div>
              <div class="col-md-10">
                <input
                  type="text"
                  size="40"
                  readonly="true"
                  pInputText
                  [(ngModel)]="deno"
                />
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-1">
            <label>Fournisseur:</label>
          </div>

          <div class="col-md-7">
            <input
              type="text"
              size="8"
              readonly="true"
              pInputText
              [(ngModel)]="codeFour"
            />
            <input
              type="text"
              size="37"
              readonly="true"
              pInputText
              [(ngModel)]="deno"
            />
          </div>

          <div class="col-md-4">
            <div class="row" style="margin-top: 1px;">
              <div class="col-md-2"><label>Adresse:</label></div>
              <div class="col-md-10">
                <input
                  type="text"
                  size="40"
                  readonly="true"
                  pInputText
                  [(ngModel)]="adresse"
                />
              </div>
            </div>
            <div class="row" style="margin-top: 1px;">
              <div class="col-md-2">
                <label>Ville :</label>
              </div>
              <div class="col-md-10">
                <input
                  type="text"
                  size="40"
                  readonly="true"
                  pInputText
                  [(ngModel)]="ville"
                />
              </div>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
<div class="mb-20" fxFlex fxLayout="row" fxLayout.lt-md="column">
  <mat-card *ngIf="cardShow">
    <mat-card-content style="margin-top: -30px; margin-left: -8px;">
      <h4>Proforma</h4>

      <ejs-grid
        #gridProforma
        [dataSource]="demande"
        gridLines="Both"
        height="260px"
        [rowHeight]="26"
        allowResizing= 'true'
      >
        <e-columns>
          <e-column
            field="rang"
            headerText="N°"
            isPrimaryKey="true"
            width="50"
          ></e-column>
          <e-column field="code" headerText="CODE" width="100"></e-column>
          <e-column field="design" headerText="Designation" width="150">
          </e-column>
          <e-column field="unite" headerText="Unité" width="50"></e-column>
          <e-column
            field="quantite"
            headerText="Quantité"
            width="50"
            textAlign="Right"
          ></e-column>
        </e-columns>
      </ejs-grid>

      <div style="margin-left: 50%; margin-top: 13px;">
        <button
          pButton
          type="button"
          label="Confirmer"
          class="ui-button-raised"
          (click)="confirmer()"
        ></button>
      </div>
    </mat-card-content>
  </mat-card>
</div>
<p-overlayPanel
  #ov
  [dismissable]="false"
  [showCloseIcon]="true"
  appendTo="body"
  [style]="styleOvPanel"
>
  <span> {{ msgs }} </span>
</p-overlayPanel>
