<br/>
<br/>
  <div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-2" ><label>Emplacement</label></div>
    <div class="col-md-2"style="margin-left: -6%" >
      <input type="text"
      id="emp"
       (input)="this.op.hide()"
      style=" width: 300px;"
      [(ngModel)]="emplacement "
      (keyup.enter)="afficher($event)"
      (click)='initialiser()'
      (keypress)="op.hide();initialiser()"
      pInputText 
      maxlength="6"
      [disabled]="readonly"/>
  </div>
    <div class="col-md-5"></div>
  </div>
    <br/>
    <br/>

     <div class="row" *ngIf="btnaff" >
    <div class="col-md-3"></div>
    <div class="col-md-6">
      <div class="row">
        <div class="col-md-3">
        <input
          type="search"
          pInputText
          [disabled]="readonly"
         
          placeholder="Recherche par Code"
          [(ngModel)]="codearticle"
          style="height: 30px; min-height: 30px ; width: 100%; "
          (keyup.enter)="recherche()"
        />
        </div>
      </div><br>
  <p-table #dt [value]="liste"  dataKey="rang"  selectionMode="single" [(selection)]="selectedArticle"  [responsive]="true" [scrollable]="true" scrollHeight="100vh" virtualScroll={true}  >
    <ng-template pTemplate="header">
        <tr>
            <th>Code</th>
            <th>Quantite</th>
         </tr>
    </ng-template>

    <ng-template pTemplate="body" let-item >
        <tr [pSelectableRow]="item" id="row_{{item.code}}">  
             <td>  {{ item.code}}</td>
              <td pEditableColumn>
                  <p-cellEditor>
                      <ng-template pTemplate="input">
                            <input pInputText type="search" pKeyFilter="pint"  
                            (blur)="annulerSaisie(item)"  [(ngModel)]="item.quantite" 
                             (keydown.enter)="update(item)"    >
                      </ng-template>

                    <ng-template pTemplate="output" >
                          {{item. quantite}}
                      </ng-template>

                  </p-cellEditor>
              </td>
  
          </tr>
 









    </ng-template>




</p-table></div>
<div class="col-md-3"></div>
     </div>
     
<p-overlayPanel #op appendTo="body" [dismissable]='false'  
[showCloseIcon]="true"
[style]="{'text-align': 'center', 'font-size':'14px' ,'background-color': ' #f8b7bd'}" >
<span style="width: 138%;"> {{msg}} </span>
</p-overlayPanel> 